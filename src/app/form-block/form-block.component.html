<div class="form-block-container">
  <img src="./assets/form-img.svg" />
  <div class="title">Форма с приветами</div>
  <div class="form-block">
    <form [formGroup]="exform">
      <div class="form-group">
        <div class="input-contain">
          <input
            formControlName="name"
            type="text"
            class="form-control placeholder-reg"
            placeholder="Ваше имя"
          />
        </div>

        <div class="txt">
          Имя нас не сильно волнует и это поле необязательное
        </div>
      </div>
      <div class="form-group">
        <div class="input-contain">
          <input
            formControlName="email"
            type="text"
            class="form-control"
            placeholder="Электронная почта"
          />
          <small *ngIf="email?.invalid && email?.touched" class="text-danger"
            >Некорректная электронная почта</small
          >
        </div>
        <div class="txt">
          Почту нужно валидировать, что пользователь точно указал адекватный и
          похожий на настоящий адрес
        </div>
      </div>
      <div class="form-group">
        <div class="input-contain">
          <input
            formControlName="phone"
            type="text"
            class="form-control"
            placeholder="Телефон"
            pInputText
            [textMask]="{ mask: phoneMask }"
          />
          <small *ngIf="phone?.invalid && phone?.touched" class="text-danger"
            >Некорректный телефон</small
          >
        </div>
        <div class="txt">Для телефона нужна маска для ввода</div>
      </div>
      <div class="form-group">
        <div class="input-contain">
          <textarea
            formControlName="message"
            class="form-control"
            placeholder="Сообщение"
          ></textarea>
          <small
            *ngIf="message?.invalid && message?.touched"
            class="text-danger"
          >
            Минимальная длина сообщения - 10 символов</small
          >
        </div>
        <div class="txt">Без сообщения форму отправлять бессмысленно</div>
      </div>

      <div class="field-checkbox">
        <p-checkbox (click)="checkboxChange()" [binary]="true"></p-checkbox>
        <div class="check-text">
          Согласен с правилами обработки моих персональных данных
        </div>
        <div class="txt display-none">
          Форма отправляется только, если отметка с согласием стоит
        </div>
      </div>
      <div class="button-container">
        <div class="show-message">
          <button
            (click)="clicksub()"
            [disabled]="
              email?.invalid || phone?.invalid || message?.invalid || !value
            "
            type="button"
            class="btn btn-primary"
          >
            Отправить сообщение
          </button>
          <div *ngIf="clicked">
            <div class="done-message">
              <mat-icon>check_circle_outline</mat-icon>
              <div class="done-message-text">
                Письмо для активации аккаунта успешно отправлено на адрес
                электронной почты, который вы указали при регистрации.
              </div>
            </div>
          </div>
        </div>

        <div class="txt btn-margin">
          У кнопки несколько состояний. Яркой и синей она становится когда все
          нормально и форму можно отправлять.
        </div>
      </div>
    </form>
  </div>
</div>
